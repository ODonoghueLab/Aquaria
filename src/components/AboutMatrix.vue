<template>
    <div id="about_matrix">
        <div id="t1">
            <p id="Orgname">Structural models of {{ OrganismName }} proteins&nbsp;</p>
            <p id="matches"></p>
            <p id="help">?</p>
        </div>
        <div id="explanation">
            <h3>About this page <span class='x' v-on:click="hideAbout()">&nbsp;</span></h3>
            <p>This page summarizes currently available 3D structural information for all proteins believed to comprise COVID-19 (also known as Human SARS coronavirus 2, SARS-CoV-2).</p>
            <p>For each protein, structural models were generated by finding all sequence regions with detectable similarity to any currently published 3D structure (in the <a href="https://www.wwpdb.org/">PDB</a>), based on a systematic, machine-learning search method (<a href="https://www.nature.com/articles/nmeth.3258">O'Donoghue et al., Nature Methods 2015</a>).</p>
            <p>For proteins with at least one match structure, an image of the best match (based on sequence identity) is shown.</p>
            <p>Click on an image to access all matching structures for that protein, and to overlay sequence features (e.g., domains, SNPs, PTMs).</p>
            <p>Proteins with no matching structure have no detectable sequence homology to any experimentally-determined 3D structure currently published (in the <a href="https://www.wwpdb.org/">PDB</a>). However, as new structures become publicly available, they will be added to this page.</p>
        </div>
    </div>
</template>

<script>
import store from '@/store/index'
import $ from 'jquery'

export default {
  name: 'AboutMatrix',
  computed: {
    data () {
      return store.state.message
    }
  },
  props: ['OrganismName'],
  methods: {
    hideAbout: function () {
    // dim background
      $('div#about_matrix, div#help_overlay').hide()
      $('div.dimmer').remove()
      $('div#about_matrix').hide()
    }
  },
  mounted () {
    var Position = window.innerWidth / 2 - $('#about_matrix').width() / 2
    Position = Position + 'px'
    $('#about_matrix').css({
      left: Position
    })
  }
}
</script>

<style scoped>
#t1{
    display: inline-flex;
}

#t1 p{
    margin: 0;
}
#explanation{
    display: none;
}

#Orgname{
      color: white;
      font-size: calc(12px + 0.8vw);
      font-weight: bold;
      padding: 0 1vw;
}

#matches{
    font-size: calc(10px + 0.4vw);
    /* padding-top: 5px; */
}

#help{
  border-radius: 50%;
  background-color: aliceblue;
  width: calc(10px + 0.8vw);
  height: calc(10px + 0.8vw);
  font-size: calc(10px + 0.4vw);
  /* margin-top: 6px; */
  margin-left: 5px;
}

#help:hover{
  background-color:orange;
  color: white;
}

/* iPhone SE */
@media only screen
  and (min-width : 200px)
  and (max-height : 600px) {
    #Orgname{
    font-size: calc(9px + 0.8vw);
  }
  #matches {
    font-size: calc(8px + 0.5vw);
  }
}

#about_matrix{
    height: fit-content;
    border-radius: 12px;
    position: fixed;
    top: 1em;
    left: 10%;
    max-width: 700px;
    width: 80%;
    padding: 2px;
    margin: 10px auto;
    background-color: #DDD;
    z-index: 105;
    bottom: 1em;
    overflow: scroll;
}
#about_matrix h3{
    background-color: #999;
    border-radius: 10px;
    color: white;
    font-size: 100%;
    font-weight: normal;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    padding: 2px 3px 2px 10px;
    margin: 0px;
}
p {
  text-align: left;
  margin: 1em;
}
</style>
